<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>The Trove - Game Library</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --black:#131313;--beige:#f5deb3;--red:#811336;--white:#ffffff;
      --background:#f7f7f9;--green:#298113;--yellow:#e5a34e;
      --borrowed-red:#811336;--unavailable-bg:#4a4a4a;
    }
    html { scroll-behavior: smooth; scroll-padding-top: 88px; }
    body{ margin:0; font-family:'Poppins',sans-serif; background:var(--background); color:var(--black); }

    /* ===== NAVBAR ===== */
    .navbar{ background-color:var(--red); display:flex; align-items:center; padding:12px 40px; position:sticky; top:0; z-index:1200; box-shadow:0 4px 15px rgba(0,0,0,.4); gap:12px; }
    .navbar .logo{ height:50px; margin-right:12px; }
    .navbar ul{ list-style:none; display:flex; gap:22px; margin:0; padding:0; align-items:center; }
    .navbar ul li{ position:relative; color:var(--beige); cursor:pointer; font-weight:500; text-transform:uppercase; }
    .navbar ul li:hover{ color:var(--white); }
    .dropdown-content{ position:absolute; left:0; top:calc(100% + 8px); background:var(--red); border-radius:8px; box-shadow:0 8px 24px rgba(0,0,0,0.25); min-width:180px; display:none; z-index:1300; }
    .dropdown:hover .dropdown-content{ display:block; }
    .dropdown-content a{ display:block; padding:10px 14px; color:var(--beige); text-decoration:none; font-weight:600; }
    .dropdown-content a:hover{ background:#a00000; color:#fff; }

    /* ===== HERO ===== */
    .hero{ text-align:center; padding:200px 18px; background:url("https://i.imgur.com/0PcNYQp.png") center/cover no-repeat; color:#fff; }
    .hero h2{ font-size:48px; font-weight:700; display:inline-block; margin:0 0 10px; position:relative; }
    .hero h2::after{ content:""; display:block; width:100%; height:4px; background:var(--red); margin-top:10px; }
    .hero p{ margin:0; color:#f1f1f1; font-size:18px; }

    /* GUIDELINES */
   /* GUIDELINES SECTION */
#guidelinesSection{ display:none; }
.guidelines-hero{ text-align:center; padding:200px 20px; background:url("https://i.imgur.com/BS9lowV.png") center/cover no-repeat; color:#fff; }
.guidelines-hero h2 {
  font-size: 40px;
  font-weight: 700;
  position: relative;
  display: inline-block;
  margin: 0 0 10px;
}
.guidelines-hero h2::after {
  content:"";
  display:block;
  width:100%;
  height:4px;
  background:var(--red);
  margin-top:10px;
}

.guidelines-content{ 
  max-width: 1200px;
  margin: 0 auto;
  padding: 60px 40px; 
  background: var(--background); 
  color: #333; 
  line-height: 1.6; 
}

.intro-text {
  font-size: 16px;
  margin-bottom: 40px;
  line-height: 1.8;
}

.section-header {
  background: var(--red);
  color: var(--beige);
  padding: 8px 16px !important;
  font-size: 16px !important;
  font-weight: 700;
  display: inline-block;
  margin-bottom: 25px !important;
  letter-spacing: 0.5px;
}

.rules-list {
  margin-bottom: 30px;
}

.rules-list p {
  margin: 12px 0;
  font-size: 15px;
}

.sub-list {
  margin-left: 30px;
  margin-top: 8px;
  margin-bottom: 12px;
}

.sub-list p {
  margin: 6px 0;
  font-size: 14px;
}

/* BORROWING FEES TABLE */
.fees-table {
  width: 100%;
  border-collapse: collapse;
  margin: 30px 0;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.table-title {
  background: var(--red);
  color: var(--beige);
  padding: 16px;
  font-size: 22px;
  font-weight: 700;
  text-align: center;
  letter-spacing: 1px;
}

.fees-table th {
   
  background: var(--red);
  color: white;
  padding: 14px;
  font-weight: 600;
  border: 2px solid #fff;
}

.category-header {
  background: var(--red);
  font-size: 18px;
}

.period-header {
  background: var(--red);
  font-size: 16px;
}

.type-header {
  background: #c9c9c9;
  color: #333;
  font-size: 14px;
}

.type-header.member {
  background: #f5deb3;
  color: #333;
}

.fees-table td {
  padding: 16px;
  text-align: center;
  border: 2px solid #ddd;
  background: #fff;
  font-size: 15px;
}

.category-cell {
  background: var(--red);
  color: var(--black);  /* Changed from white to beige */
  font-weight: 700;
  font-size: 18px;
}
.member-cell {
  background: #fef5e7;
  font-weight: 600;
}

/* Additional Rules */
.additional-rules {
  margin-top: 30px;
}

.additional-rules p {
  margin: 16px 0;
  font-size: 15px;
  line-height: 1.7;
}


.guidelines-hero h2::after {
  content:"";
  display:block;
  width:100%;
  height:4px;
  background:var(--red);
  margin-top:10px;
}

  /* HOW TO BORROW SECTION */
#howToBorrowSection {
 display:none;
}

.howto-hero {
  text-align: center;
  padding: 200px 20px;
  background:url("https://i.imgur.com/fY3cSfn.png")center/cover no-repeat; color:#fff; 
}

.howto-hero h2 {
  font-size: 40px;
  font-weight: 700;
  position: relative;
  display: inline-block;
  margin: 0 0 10px;
}
.howto-hero h2::after {
  content:"";
  display:block;
  width:100%;
  height:4px;
  background:var(--red);
  margin-top:10px;
}
.howto-hero p {
  font-size: 1.2rem;
}

/* HOW TO BORROW - CONTENT STYLING */
.howto-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 60px 40px;
  background: var(--background);
}

.section-header {
  background: var(--red);
  color: var(--beige);
  padding: 12px 24px;
  font-size: 20px;
  font-weight: 700;
  display: inline-block;
  margin-bottom: 40px;
  letter-spacing: 0.5px;
}

.steps-container {
  display: flex;
  gap: 30px;
  justify-content: center;
  margin-bottom: 60px;
  flex-wrap: wrap;
}

.step-card {
  background: var(--white);
  border: 3px solid var(--red);
  border-radius: 12px;
  padding: 20px 20px;
  width: 300px;
  position: relative;
  display: flex;
  flex-direction: column;
}

.step-number {
  position: absolute;
  top: -20px;
  left: 20px;
  background: var(--red);
  color: var(--beige);
  font-size: 48px;
  font-weight: 700;
  width: 70px;
  height: 70px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.step-number-bottom {
  position: absolute;
  bottom: -20px;
  right: 20px;
  background: var(--red);
  color: var(--beige);
  font-size: 48px;
  font-weight: 700;
  width: 70px;
  height: 70px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transform: rotate(180deg);  /* This flips it upside down! */
}

.step-content {
  margin-top: 30px;
  flex: 1;
}

.step-content h4 {
  color: var(--red);
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 12px;
}

.step-content p {
  font-size: 14px;
  line-height: 1.6;
  margin-bottom: 10px;
  color: #333;
}

.step-content ul {
  list-style: none !important;  /* ‚Üê Add !important to force it */
  padding-left: 0;
  margin-left: 0;  /* ‚Üê Add this too */
  font-size: 14px;
  line-height: 1.8;
}

.step-content ul li {
  margin-bottom: 8px;
  padding-left: 18px;
  position: relative;
}

.step-content ul li::before {
  content: "‚Ä¢";
  color: var(--red);
  font-weight: bold;
  position: absolute;
  left: 0;
}

.form-link {
  color: var(--red);
  text-decoration: underline;
  font-weight: 600;
}

.form-link:hover {
  color: #a00000;
}

/* WHO CAN BORROW */
.eligibility-container {
  display: flex;
  flex-direction: column;
  gap: 24px;
  max-width: 1000px;
}

.eligibility-item {
  display: flex;
  align-items: center;
  gap: 20px;
  background: var(--white);
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.icon-placeholder {
  width: 60px;
  height: 60px;
  background: var(--red);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.eligibility-icon {
  width: 40px;
  height: 40px;
  object-fit: contain;
 
}

.eligibility-text {
  font-size: 15px;
  line-height: 1.6;
  color: #333;
}

@media (max-width: 1000px) {
  .steps-container {
    flex-direction: column;
    align-items: center;
  }
  
  .step-card {
    width: 100%;
    max-width: 500px;
  }
}

.howto-content h3 {
  font-size: 1.5rem;
  margin-bottom: 15px;
}

.howto-content ul {
  list-style: disc;
  padding-left: 20px;
}

.howto-content li {
  margin-bottom: 10px;
  font-size: 1rem;
}


/* ===== FAQ SECTION ===== */
.faq-hero {
  text-align: center;
  padding: 200px 20px;
  background: url("https://i.imgur.com/TdURedi.png") center/cover no-repeat;
  color: #fff;
}
.faq-hero h2 {
  font-size: 40px;
  font-weight: 700;
  position: relative;
  display: inline-block;
  margin: 0 0 10px;
}
.faq-hero h2::after {
  content: "";
  display: block;
  width: 100%;
  height: 4px;
  background: var(--red);
  margin-top: 10px;
}
.faq-hero p {
  font-size: 1.1rem;
  color: #f1f1f1;
}

.faq-content {
  max-width: 900px;
  margin: 60px auto;
  background: var(--white);
  padding: 40px;
  border-radius: 8px;
}

/* Accordion buttons */
.accordion {
  background-color: var(--red);
  color: var(--beige);
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 16px;
  transition: 0.3s;
  font-weight: 600;
  border-radius: 0px;
  margin-top: 8px;
}
.accordion:hover,
.accordion.active {
  background-color: #a00000;
  color: #fff;
}





/* Accordion panel */
.panel {
  padding: 0 18px;
  background-color: #f9f9f9;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out;
  border-left: 4px solid var(--red);
  border-radius: 0px;
}
.panel p {
  margin: 12px 0;
  color: #333;
  line-height: 1.6;
}

/* Make Q and A bold and red */
.panel strong,
.accordion strong {
  color: var(--#f9f9f9);
}




    /* ===== SECTIONS ===== */
    .section{ max-width:1200px; margin: 28px auto; padding:0 20px; }
    .section h3{ font-size:15px; margin-left: 170px; margin-bottom:18px; font-weight:600; font-family:'Poppins'; background:var(--red); color:#f5deb3; padding:6px 15px; border-radius:0px; display:inline-block; }
    .game-grid{ display:flex; gap:20px; flex-wrap:wrap; justify-content:center; padding:18px 0; max-width: 860px; /* 3 √ó 250px cards + 2 √ó 20px gaps */
  margin: 0 auto;}

    .card{ background:var(--white); border:1px solid #ddd; border-radius:0px; padding:0px; width:270px; display:flex; flex-direction:column; align-items:center; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,0.08); transition:transform .22s, box-shadow .22s; }
    .card:hover{ transform:translateY(-6px); box-shadow:0 8px 24px rgba(0,0,0,0.12); }
    .image-placeholder{ width:100%; height:140px; background:#eee; border-radius:8px; margin-bottom:12px; display:flex; align-items:center; justify-content:center; color:#666; }
    .card h4{ margin:6px 0 4px; font-size:18px; text-align:center; }
    .card p{ margin:2px 0; font-size:13px; color:#555; text-align:center; }

    .status{ margin-top:10px; font-weight:700; padding:6px 12px; border-radius:6px; display:inline-block; font-size:13px; color:#fff !important; }
    .available{ background:var(--green); }
    .reserved{ background:var(--yellow); }
    .borrowed{ background:var(--borrowed-red); }
    .unavailable{ background:var(--unavailable-bg); }

    /* details panel */
    .details{ display:none; padding:40px; background:#fafafa; animation:fadeIn .3s ease-in-out; max-width:1200px; margin:24px auto; }
    .details.active{ display:block; }
    .details-layout{ display:flex; gap:30px; flex-wrap:wrap; align-items:stretch;}
    .details-gallery{ flex:1; min-width:260px; }
    .thumbnails{ display:flex; flex-direction:column; gap:10px; margin-bottom:12px; }
    .thumbnails img{ width:60px; height:60px; object-fit:cover; border-radius:6px; border:2px solid #ddd; cursor:pointer; }
    .main-img{ flex:1; text-align:center; min-width:260px; }
    .main-img img{ max-width:320px; border-radius:10px; }
    .details-info{ flex:1; background:var(--white); border:2px solid #ddd; padding:20px; border-radius:0px; min-height:600px; width: 250px;        /* makes it thinner */
  max-width: 300px;    /* stops it from stretching too wide */
} 
    .details-info h2{ margin:0 0 12px; font-size:22px; }
    .reserve-btn{ background:var(--red); color:var(--white); border:none; padding:10px 18px; border-radius:6px; font-weight:700; cursor:pointer; }
    .reserve-btn:hover{ background:#a00000; }
    .details-desc{ margin-top:18px; font-size:15px; line-height:1.5; }

    @keyframes fadeIn { from{opacity:0} to{opacity:1} }

    .footer{ margin-top:40px; padding:28px; background:var(--red); color:var(--beige); text-align:center; box-shadow:0 -4px 15px rgba(0,0,0,.2); }

   @media (max-width:760px){
  .section h3{ font-size:14px;}
  .image-placeholder{ height:120px; }
}
.card-img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 0px;
  margin-bottom: 12px;
  display: block;
}

/* ===== MOBILE RESPONSIVE ===== */
@media (max-width: 768px) {
  /* Navbar */
  .navbar {
    padding: 10px 15px;
    flex-direction: column;
  }
  
  .navbar .logo {
    height: 35px;
  }
  
  .navbar ul {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
  }
  
  .navbar ul li {
    font-size: 11px;
  }
  
  .navbar br {
    display: none;
  }
  
  /* Heroes */
  .hero, .guidelines-hero, .howto-hero, .faq-hero {
    padding: 80px 15px !important;
  }
  
  .hero h2, .guidelines-hero h2, .howto-hero h2, .faq-hero h2 {
    font-size: 24px !important;
  }
  
  /* Game Cards */
  .section h3 {
    margin-left: 0 !important;
    text-align: center;
  }
  
  .card {
    width: calc(50% - 10px);
  }
  
  .card h4 {
    font-size: 14px;
  }
  
  /* Details */
  .details-layout {
    flex-direction: column;
  }
  
  .details-info {
    width: 100%;
    max-width: 100%;
  }
  
  .thumbnails {
    flex-direction: row;
    overflow-x: auto;
  }
  
  .main-img img {
    max-width: 100%;
  }
  
  /* Tables */
  .fees-table th, .fees-table td {
    padding: 6px 2px;
    font-size: 10px;
  }
  
  .table-title {
    font-size: 14px;
  }
  
  /* Content */
  .guidelines-content, .howto-content, .faq-content {
    padding: 20px 15px;
  }
  
  .step-card {
    width: 100% !important;
  }
  
  .section-header {
    font-size: 14px;
  }
}

/* For very small phones */
@media (max-width: 480px) {
  .card {
    width: 100%;
  }
  
  .navbar ul li {
    font-size: 10px;
  }
}



  </style>
</head>
<body>
  <!-- NAVBAR -->
  <div class="navbar">
    <img src="https://i.imgur.com/tduB8JS.png" class="logo" alt="The Trove Logo">
    <br>
    <br>
    <ul>
      <li onclick="showHero()">Home</li>
      <br><br>
      <li class="dropdown"> Collection
        <div class="dropdown-content" role="menu" aria-label="Collection categories">
          <a href="#section-category-1" onclick="goToCollection('section-category-1')">Category 1</a>
          <a href="#section-category-2" onclick="goToCollection('section-category-2')">Category 2</a>
          <a href="#section-category-3" onclick="goToCollection('section-category-3')">Category 3</a>
        </div>
      </li>
      <br>
      <br>
      <li onclick="showHowToBorrow()">HOW TO BORRROW</li>
      <br>
       <br>
      <li onclick="showGuidelines()">Guidelines</li>
      <br>
      <br>
    <li onclick="showFAQ()">FAQs</li>
      <br>
      <br>
      <li onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSdxOJOTQD4HIleqi6Saezly0iWhGex-7s-fBNA3MXOrkrtYJw/viewform', '_blank')">Reserve Now</li>
      
    </ul>
  </div>

  <!-- HERO -->
  <div class="hero" id="hero">
    <h2>BROWSE THE TROVE!</h2>
    <p>Check out the games you can borrow and their current availability.</p>
  </div>

  <!-- GUIDELINES SECTION -->

<div id="guidelinesSection">
  <div class="guidelines-hero">
    <h2>BORROWING GUIDELINES</h2>
    <p>Play fair, care for the games, and keep The Trove fun for everyone.</p>
  </div>
  
  <div class="guidelines-content">
    <!-- Intro Text -->
    <p class="intro-text">
      The Trove is a <strong>shared collection</strong> managed by PNU NAT20. By borrowing from it, you <strong>agree</strong> to care for the games and follow these guidelines to ensure everyone gets to enjoy them.
    </p>
    
    <!-- General Rules Section -->
    <h3 class="section-header">GENERAL RULES</h3>
    
    <div class="rules-list">
      <p><strong>‚Ä¢ Borrowing Limit:</strong> One (1) game at a time per borrower.</p>
      
      <p><strong>‚Ä¢ Borrowing Periods:</strong></p>
      <div class="sub-list">
        <p>> 1 day - No reservation required</p>
        <p>> 3 days - Reserve at least 2 days in advance</p>
        <p>> 1 week - Reserve at least 2 days in advance</p>
      </div>
      
      <p><strong>‚Ä¢ Borrowing Fees:</strong> Games are categorized by market value, with higher categories costing more to borrow.  Borrowing fees are to be collected on the date of borrowing, and can be done either physically or digitally through Gcash.</p>
    </div>
    
    <!-- Borrowing Fees Table -->
    <table class="fees-table">
      <thead>
        <tr>
          <th colspan="7" class="table-title">BORROWING FEES TABLE</th>
        </tr>
        <tr>
          <th rowspan="2" class="category-header">CATEGORY</th>
          <th colspan="2" class="period-header">1 DAY</th>
          <th colspan="2" class="period-header">3 DAYS</th>
          <th colspan="2" class="period-header">1 WEEK</th>
        </tr>
        <tr>
          <th class="type-header">Non-Member</th>
          <th class="type-header member">Member</th>
          <th class="type-header">Non-Member</th>
          <th class="type-header member">Member</th>
          <th class="type-header">Non-Member</th>
          <th class="type-header member">Member</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="category-cell"> 1 </td>
          <td>‚Ç±10</td>
          <td class="member-cell">FREE</td>
          <td>‚Ç±20</td>
          <td class="member-cell">FREE</td>
          <td>‚Ç±30</td>
          <td class="member-cell">FREE</td>
        </tr>
        <tr>
          <td class="category-cell">2</td>
          <td>‚Ç±20</td>
          <td class="member-cell">‚Ç±16</td>
          <td>‚Ç±30</td>
          <td class="member-cell">‚Ç±24</td>
          <td>‚Ç±50</td>
          <td class="member-cell">‚Ç±40</td>
        </tr>
        <tr>
          <td class="category-cell">3</td>
          <td>‚Ç±50</td>
          <td class="member-cell">‚Ç±40</td>
          <td>‚Ç±100</td>
          <td class="member-cell">‚Ç±80</td>
          <td>‚Ç±200</td>
          <td class="member-cell">‚Ç±160</td>
        </tr>
      </tbody>
    </table>
    
    <!-- Additional Rules -->
    <div class="additional-rules">
      <p><strong>‚Ä¢ Priority:</strong> Members have priority access. Otherwise, games are lent on a first-come, first-served basis.</p>
      
      <p><strong>‚Ä¢ Extensions:</strong> Borrowing periods cannot be extended except in cases of class suspension, weather-related incidents, or medical/family emergencies. If no Trovekeeper is available for scheduled returns, reschedule and waive late fees.</p>
      
      <p><strong>‚Ä¢ Weekend Borrowing:</strong> Games cannot be borrowed on Saturday and Sunday. It is also prohibited to borrow for a day on a Friday.</p>
      
      <p><strong>‚Ä¢ Responsibility:</strong> The borrower is solely responsible for the game from the moment it is checked out until the return process is officially completed.</p>
    </div>

<!-- Care & Responsibility Section -->
<h3 class="section-header">CARE & RESPONSIBILITY</h3>

<div class="additional-rules">
  <p><strong>‚Ä¢ Missing Pieces:</strong> Before checking out, check the contents of the game to be borrowed. Note missing pieces on the form. Unreported missing pieces will be your responsibility.</p>
  
  <p><strong>‚Ä¢ Borrower Responsibility:</strong> You are responsible for the game from checkout until it is officially returned.</p>
  
  <p><strong>‚Ä¢ Handling:</strong> Keep food/drinks away and avoid writing or bending components.</p>
  
  <p><strong>‚Ä¢ Sanitization:</strong> If the game requires cleaning, use a <strong>dry cloth</strong> on plastic/laminated components only. <strong>Do not use liquid cleaners</strong> on paper components or wooden pieces.</p>
</div>

<!-- Consequences Section -->
<h3 class="section-header">CONSEQUENCES OF NON-COMPLIANCE</h3>

<div class="additional-rules">
  <p><strong>‚Ä¢ Late Returns:</strong> Daily late fees apply based on game category (daily late fee is equivalent to daily borrowing fee; will not exceed replacement cost).</p>
  
  <p><strong>‚Ä¢ Damaged/Lost Items:</strong> You are responsible for replacing lost or damaged items at current market value. Replaceable components must be purchased.</p>
  
  <p><strong>‚Ä¢ Suspension:</strong> Unresolved issues result in suspended borrowing privileges. Repeat violations may result in a temporary or permanent ban.</p>
</div>

<!-- University Policy Section -->
<h3 class="section-header">UNIVERSITY POLICY REMINDER</h3>

<div class="additional-rules">
  <p>Borrowing from The Trove is a trust-based privilege. Under the 2024 PNU Student Handbook, <strong>theft or misappropriation of property</strong> within University premises is a <strong>major offense</strong>, punishable by suspension or expulsion. Help us keep The Trove fair and accessible by respecting this policy.</p>
</div>



  </div>
  </div>

  
<!-- HOW TO BORROW SECTION -->

  
<div id="howToBorrowSection">
  <div class="howto-hero">
    <h2>YOUR GUIDE TO BORROWING</h2>
    <p>Everything you need to know so you can enjoy our games worry-free.</p>
  </div>
  
  <div class="howto-content">
    <h3 class="section-header">HOW TO BORROW?</h3>
    
    <div class="steps-container">
      <!-- Step 1 -->
      <div class="step-card">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>RESERVING</h4>
          <p><strong>BEFORE BORROWING</strong>, read the guidelines.</p>
          <p>Fill out the online <a href="https://docs.google.com/forms/d/e/1FAIpQLSdxOJOTQD4HIleqi6Saezly0iWhGex-7s-fBNA3MXOrkrtYJw/viewform" target="_blank" class="form-link">Google Form reservation</a> at least 2 days in advance.</p>
          <p>Wait for confirmation from our official channels before coming to claim the game.</p>
        </div>
        <div class="step-number-bottom">1</div>
      </div>
      
      <!-- Step 2 -->
      <div class="step-card">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>BORROWING</h4>
          <p>On your scheduled pickup day, fill out a physical borrowing form and sign it along with a designated Trove Officer. The form records:</p>
          <ul>
            <li>The game's title and game ID</li>
            <li>Your name, program/year, and contact number</li>
            <li>The date it is borrowed and the due date for return</li>
            <li>The game's condition, including number of pieces/items</li>
            <li>The borrowing fee</li>
          </ul>
        </div>
        <div class="step-number-bottom">2</div>
      </div>
      
      <!-- Step 3 -->
      <div class="step-card">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>RETURNING</h4>
          <p>A designated Trove Officer will contact you about the return. Arrange a return time with the officer. Games must be returned in person at the agreed time and place.</p>
          <ul>
            <li>The officer will inspect the game while you are present to confirm that all pieces are accounted for and in the noted condition.</li>
            <li>You will be asked to sign a final document confirming your return.</li>
          </ul>
        </div>
        <div class="step-number-bottom">3</div>
      </div>
    </div>
    
    <!-- Who Can Borrow Section -->
    <h3 class="section-header">WHO CAN BORROW?</h3>
    
    <div class="eligibility-container">
      <div class="eligibility-item">
        <div class="icon-placeholder">
          <img src="" alt="Eligibility Icon" class="eligibility-icon" id="eligibilityIcon">
        </div>
        <div class="eligibility-text">
          <strong>Eligibility:</strong> All bona fide students enrolled in PNU Manila. Please present your Student ID or Certificate of Registration when borrowing.
        </div>
      </div>
      
      <div class="eligibility-item">
        <div class="icon-placeholder">
          <img src="" alt="Member Perk Icon" class="eligibility-icon" id="memberPerkIcon">
        </div>
        <div class="eligibility-text">
          <strong>Member Perk:</strong> NAT20 members can borrow Category 1 games for <strong>FREE</strong>, and get a <strong>20% discount</strong> on Category 2 and 3 games.
        </div>
      </div>
    </div>
  </div>
</div>
</div>




  <!-- FAQ SECTION -->
<div id="faqSection" style="display:none;">
  <div class="faq-hero">
    <h2>FREQUENTLY ASKED QUESTIONS</h2>
    <p>If you don‚Äôt see your question here, message us through our official channels!</p>
  </div>

  <div class="faq-content">
    <button class="accordion"><strong>Q:</strong> Can I borrow a game if I‚Äôm not a NAT20 member?</button>
    <div class="panel">
      <p><strong>A:</strong> Yes! The Trove is open to all bona fide PNU Manila students. NAT20 members simply enjoy priority access and discounts.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> Can I borrow more than one game if they‚Äôre from different categories?</button>
    <div class="panel">
      <p><strong>A:</strong> No, you can only have one game checked out at a time, regardless of category. This keeps the collection available to more borrowers.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> What if I lose just one piece of a game?</button>
    <div class="panel">
      <p><strong>A:</strong> If the piece is replaceable, you‚Äôll need to buy a replacement. If it‚Äôs an irreplaceable or core component, you may need to pay for a partial or full replacement of the game.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> Can I let my friends borrow the game under my name?</button>
    <div class="panel">
      <p><strong>A:</strong> No. Whoever checks out the game is responsible for it until return, even if someone else plays with or borrows it informally.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> What if I can‚Äôt return a game on time?</button>
    <div class="panel">
      <p><strong>A:</strong> Contact a Trovekeeper as soon as possible. Late fees still apply unless the delay is due to class suspension, weather, or emergencies (subject to review) or full replacement of the game.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> Can alumni borrow from The Trove?</button>
    <div class="panel">
      <p><strong>A:</strong> Currently, borrowing is only for enrolled students. Alumni are welcome to play during NAT20-hosted events but cannot check out games.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> Can I donate a game to The Trove?</button>
    <div class="panel">
      <p><strong>A:</strong> Yes! We gladly accept game donations. Contact us first so we can confirm it‚Äôs a good fit and add it to the inventory. Donors will have their names listed and get additional benefits depending on the game category.</p>
    </div>

    <button class="accordion"><strong>Q:</strong> How do I become a NAT20 member to get discounts?</button>
    <div class="panel">
      <p><strong>A:</strong> You can apply for membership anytime through this <a href="https://docs.google.com/forms/d/e/1FAIpQLSc_8Z_WjyooOIms5GpeMacIS2_MTRNSbYM339NPDA-MUrfPWA/viewform" target="_blank">Google form</a>. Membership is open to all interested students!</p>
    </div>
  </div>
</div>





  <!-- Categories -->
  <div class="section" id="section-category-1">
    <h3>CATEGORY 1 GAMES</h3>
    <div class="game-grid" id="grid-category-1"></div>
  </div>
  <div class="section" id="section-category-2">
    <h3>CATEGORY 2 GAMES</h3>
    <div class="game-grid" id="grid-category-2"></div>
  </div>
  <div class="section" id="section-category-3">
    <h3>CATEGORY 3 GAMES</h3>
    <div class="game-grid" id="grid-category-3"></div>
  </div>

  <!-- DETAILS -->
  <div class="details" id="detailsView" aria-hidden="true">
    <div class="details-layout">
      <div class="details-gallery">
        <div class="thumbnails" id="thumbs"></div>
        <div class="main-img"><img id="mainImg" src="" alt=""></div>
      </div>
      <div class="details-info">
        <p><strong id="detailsCategory">CATEGORY</strong></p>
        <h2 id="detailsTitle"></h2>
        <p id="detailsPlayers"></p>
        <p id="detailsPlaytime"></p>
        <p id="detailsStatus" class="status"></p>
       <button class="reserve-btn" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSdxOJOTQD4HIleqi6Saezly0iWhGex-7s-fBNA3MXOrkrtYJw/viewform', '_blank')">RESERVE NOW!</button>
        <div style="margin-top:20px;font-size:14px;">
          <p><strong>Includes:</strong></p>
          <ul id="detailsIncludes"></ul>
          <p>Copies owned: <span id="detailsCopies"></span></p>
          <p>Donated by: <span id="detailsDonor"></span></p>
        </div>
      </div>
    </div>
    <div class="details-desc" id="detailsDesc"></div>
    <div style="margin-top:18px;">
      <button onclick="hideDetails()" class="reserve-btn" style="background:#555;">‚Üê Back to Collection</button>
    </div>
  </div>

  <div class="footer">¬© 2025 PNU Narrative Arts & Tabletop Organization NAT2O | All Rights Reserved</div>

  <script>
    const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSXxxanvdsuF_vjCGQjki2TSbsrCbxX_-c3iPgJuCvudgP-j4mXsvSxUK2RtdeVQwQ9PigUtQlEstLF/pub?output=csv";

    function normalizeTitle(s){
      if(!s && s !== 0) return '';
      return s.toString().toLowerCase()
        .replace(/[:'"\u2019]/g,'')
        .replace(/[^a-z0-9]+/g,' ')
        .trim().replace(/\s+/g,' ');
    }

    function parseCSV(text){
      const rows = [];
      let cur='', row=[], inQuotes=false;
      for(let i=0;i<text.length;i++){
        const ch=text[i], nxt=text[i+1];
        if(ch==='"'){
          if(inQuotes&&nxt==='"'){cur+='"'; i++;}
          else inQuotes=!inQuotes;
        } else if(ch===','&&!inQuotes){
          row.push(cur); cur='';
        } else if((ch==='\n'||ch==='\r')&&!inQuotes){
          row.push(cur);
          if(!(row.length===1&&row[0]==='')) rows.push(row);
          row=[]; cur='';
        } else cur+=ch;
      }
      if(cur!==''||row.length>0){ row.push(cur); rows.push(row); }
      return rows;
    }

    
  
 const games = {
  "uno": {
    title: "UNO Show 'Em No Mercy",
    category: "Category 1",
    players: "Player count: 2 to 10 players",
    playtime: "Game Length 30 min",
    description: `Amp up the chaos with new wild cards and brutal moves in this fierce twist on classic UNO!

In UNO: Show ‚ÄòEm No Mercy, players enjoy the classic card-matching gameplay of UNO with an extra dose of mayhem. This edition adds special "Show No Mercy" wild cards that allow players to unleash powerful moves on their opponents, creating intense, unpredictable moments in every round. From stacking penalties to sabotaging others' hands, these new cards make each turn even more strategic and unpredictable, while still keeping the fast-paced fun of the original game.

With its easy-to-learn rules and added twists, UNO: Show ‚ÄòEm No Mercy is perfect for families and friends looking to add more excitement and surprises to their game nights.`,


    includes: [
      
"180 sleeved cards (36 per color, 24 wild, 12 blank)",
"Instruction manual"



    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/8Gyem-se42_VYJ7hzxmu8ytDKxsMextmrextYXl8Edg/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/c2hvcGxpZ2h0c3Bl/ZWQuY29tL3Nob3Bz/LzYzMzY4My9maWxl/cy82MTIxODY1MC8x/NjAweDIwNDh4MS9t/YXR0ZWwtdW5vLXNo/b3ctZW0tbm8tbWVy/Y3kuanBn",
    "https://i.imgur.com/n4mo3MR.png",
    "https://i.imgur.com/PGWFPwb.png"]
  },

  "tacocat": {
    title: "Taco Cat Goat Cheese Pizza",
    category: "Category 1",
    players: "3‚Äì8 players",
    playtime: "15 min",
    description: "A quick reflex game of chanting and slapping cards in sequence.",
    includes: [
      "66x sleeved cards",
      "2x Instruction Cards",
      "11x Taco",
      "11x Cat",
      "11x Goat",
      "11x Cheese",
      "11x Pizza",
      "3x Narwhal",
      "3x Gorilla",
      "3x Groundhog"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://i.imgur.com/XT1L0Zo.png",
    "https://i.imgur.com/SjdDe6o.jpeg",
    "https://i.imgur.com/4PwbKJb.jpeg" ]
  },

  "balancingchairs": {
    title: "Balancing Chairs",
    category: "Category 1",
    players: "2+ players",
    playtime: "10‚Äì20 min",
    description: "Stack tiny chairs without toppling the pile.",
    includes: [
      "1x Box (worn out)",
      "18x Chairs"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/dKMWhuLcCnylbM_Rsr7WXbgrnt9z9SqX_5yWVGhvV9Y/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/cG91bmRmdW4uY29t/L2Nkbi9zaG9wL2Zp/bGVzL0JhbGFuY2lu/Z0NoYWlyc0dhbWVf/MS5wbmc_dj0xNzQ5/NjA0OTI1JndpZHRo/PTE5NDY", 
    "https://i.imgur.com/vKLrfgC.jpeg", 
    "https://i.imgur.com/7L6f63z.jpeg"]
  },

  "tapple": {
    title: "Tapple",
    category: "Category 1",
    players: "2‚Äì8 players",
    playtime: "20 min",
    description: "Fast-paced word game of categories and letters.",
    includes: [
      "1x Box (worn out)",
      "1x Tapple Board",
      "2x AA Batteries",
      "36x Category Cards"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://i.imgur.com/4rxy42Q.jpeg",
    "https://i.imgur.com/Ym349K7.jpeg",
    "https://i.imgur.com/53hsaM3.png"]
  },

  "cluedo": {
    title: "Cluedo Suspect",
    category: "Category 1",
    players: "2‚Äì6 players",
    playtime: "20‚Äì40 min",
    description: "Card/container version of the detective classic.",
    includes: [
      "1x Container",
      "1x Instruction Manual",
      "1x The Crime Card",
      "2x Reminder Cards",
      "6x Character Profile Cards",
      "6x Orange Evidence Cards (Suspects)",
      "5x Orange Evidence Cards (Location)",
      "4x Orange Evidence Cards (Weapon)",
      "24x Case File Suspects (4 of each)",
      "20x Case File Locations (4 of each)",
      "16x Case File Weapons (4 of each)"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://i.imgur.com/zbQTmtM.jpeg",
    "https://i.imgur.com/KotrHRh.png",
    "https://i.imgur.com/1ckqq7V.jpeg"]
  },

  "coup": {
    title: "Coup",
    category: "Category 1",
    players: "2‚Äì6 players",
    playtime: "15 min",
    description: "Bluffing and deduction in a dystopian world.",
    includes: [
      "15x character cards (3 each of Duke, Assassin, Captain, Ambassador, Contessa)",
      "6x summary cards",
      "50x coins",
      "1x Rules",
      "1x Box"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/HT5w9Bsl-UQ-T6nGoqpmbAsMT5Hu3rpwYqtKffFWUmU/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/emF0dS5jb20vd3At/Y29udGVudC91cGxv/YWRzLzIwMTkvMTEv/MTgwODM5MTcvWkJH/LUlCQ0NPVTFfRlJP/TlQtMS5qcGc",
    "https://i.imgur.com/k7rD3Mn.jpeg",
    "https://i.imgur.com/0TXvyIr.jpeg"]
  },

  "jenga": {
    title: "Jenga",
    category: "Category 1",
    players: "2+ players",
    playtime: "15 min",
    description: "Classic tower stacking challenge.",
    includes: [
      "54x Wooden Blocks",
      "1x Box"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://i.imgur.com/YyHS7uG.jpeg", 
    "https://i.imgur.com/h78pNle.jpeg", 
    "https://i.imgur.com/4jY12Gr.png"]
  },

  "codenames": {
    title: "Codenames",
    category: "Category 2",
    players: "2‚Äì8 players",
    playtime: "15 min",
    description: "Give clever clues to help teammates find the right words.",
    includes: [
      "200x Word Cards",
      "40x Keys",
      "1x Stand",
      "1x Hourglass",
      "8x Red Agents",
      "8x Blue Agents",
      "1x Double Agent",
      "7x Bystanders",
      "1x Assassin",
      "1x Instruction Manual",
      "1x Catalog"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/PrViIP7cVxnzU4p8Yshnw8Y3Pn22XNrcYeZt8rT-kfk/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/YXNtb2RlZS5jby51/ay9jZG4vc2hvcC9m/aWxlcy9DR0UwMDAz/MV8xXzEzYThiMGYz/LWY1MTktNDE0NC05/NjRlLTBlNzU4Y2U1/NDAzYi5qcGc_dj0x/NzY0Nzc4OTQyJndp/ZHRoPTQ2MA",
    "https://imgs.search.brave.com/BJYxlaUPmOijXlCWE80djGrihZglKhhsWFRSpWc-7Pg/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9hc3Nl/dHNpby5nbndjZG4u/Y29tL2NvZGVuYW1l/cy1ib2FyZC1nYW1l/LWxheW91dC0yLnBu/Zz93aWR0aD0yMDQ4/JmhlaWdodD0yMDQ4/JmZpdD1ib3VuZHMm/cXVhbGl0eT04NSZm/b3JtYXQ9anBnJmF1/dG89d2VicA",
    "https://imgs.search.brave.com/wUHzqZaxfMkb4aNTL2v00jZddCKiJG07sZebiCxai3Q/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/emF0dS5jb20vd3At/Y29udGVudC91cGxv/YWRzLzIwMTcvMDkv/MTgxMzE3MjUvUGxh/eWluZy1Db2RlbmFt/ZXMtR2FtZS5qcGc"]
  },

  "dungeonmayhem": {
    title: "Dungeon Mayhem!",
    category: "Category 2",
    players: "2‚Äì4 players",
    playtime: "15 min",
    description: "Quick D&D-inspired card battles.",
    includes: [
      "30x Barbarian Cards (including reference and hit point tracker)",
      "30x Rogue Cards (including reference and hit point tracker)",
      "30x Paladin Cards (including reference and hit point tracker)",
      "30x Wizard Cards (including reference and hit point tracker)",
      "16x HP tokens",
      "4x character tokens",
      "1x Instruction Manual"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/-XqBz6z3UX92mjQjqfailclT8wR6RbB5eONDC99J1iM/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9pNS53/YWxtYXJ0aW1hZ2Vz/LmNvbS9zZW8vRC1E/LUR1bmdlb24tTWF5/aGVtLUJvYXJkLUdh/bWVfYmNkMThiNzkt/NDA3Yy00ODY5LWEy/NGEtNmJlNjAyYzBm/NjAzLmVjMTA2OTll/OTgyYzJhNDY5YTg5/MzU1NTQ5NDQxNzk5/LmpwZWc_b2RuSGVp/Z2h0PTU3MyZvZG5X/aWR0aD01NzMmb2Ru/Qmc9RkZGRkZG", 
    "https://imgs.search.brave.com/h5RqN3G6ZVVxVxBONcX3GWYLs6G5CClMs3HcajsyIj0/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9tLm1l/ZGlhLWFtYXpvbi5j/b20vaW1hZ2VzL1Mv/YXBsdXMtbWVkaWEv/dmMvYzNiYTg0ZWEt/N2YxYy00OWU2LThk/NzMtNDY1OTk4MjYx/MmIwLl9fQ1IwLDAs/MzAwLDMwMF9QVDBf/U1gzMDBfVjFfX18u/anBn",
    "https://imgs.search.brave.com/RbeLsg3Ce-_2QjP2sqmgcAYSs3QrUmGce38mrvVOuRg/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9zaG9w/LnBob2VuaXhzZWF0/dGxlLmNvbS9jZG4v/c2hvcC9wcm9kdWN0/cy9XT0NDNjE2NF9O/XzEwMDB4MTAwMC5q/cGc_dj0xNTg3NzUy/Njc4"]
  },

  "flip7": {
    title: "Flip7!",
    category: "Category 2",
    players: "2‚Äì6 players",
    playtime: "30 min",
    description: "A math and card-flipping strategy game.",
    includes: [
      "94x Cards",
      "79x Number Cards",
      "6x Modifier Cards",
      "9x Action Cards (3 of each)",
      "1x Container"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/2RcfwkcCV0axMwkqHQWVLUDZrv_WQCvP0C_LN15cY5A/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9nLmNo/cmlzdGlhbmJvb2su/Y29tL2RnL3Byb2R1/Y3Qvd2ViL2Y0MDAv/NDE1ODYwNC5qcGc", 
    "https://imgs.search.brave.com/CF7a-o4j58kXxhAyWRk8xWtI9Ufl9HR2fi2OyjC4bMU/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/bW9qby1uYXRpb24u/Y29tL2ZpbGVzLzIw/MjQvMDgvRmxpcDcu/anBn", 
    "https://imgs.search.brave.com/ByBW9sQhLmzrANCovHCATYN01PPaLjNBfUZOIwVAjgg/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9hc3Nl/dHMua21hcnQuY29t/LmF1L3RyYW5zZm9y/bS9hZmJiZmQ4My0x/MDI3LTRjYWEtODJh/Yy1hYTRmNzgxM2Fi/N2EvNDM1NzM2NjAt/Mj9pbz10cmFuc2Zv/cm06Zml0LHdpZHRo/OjM4NDAsaGVpZ2h0/OjM4NDAmcXVhbGl0/eT05MA"]
  },

  "throwthrowburrito": {
    title: "Throw Throw Burrito",
    category: "Category 3",
    players: "2‚Äì6 players",
    playtime: "15 min",
    description: "Dodgeball meets card game with foam burritos.",
    includes: [
      "120x Cards",
      "2x Burritos",
      "6x Burrito Bruises",
      "1x Fear Me Badge"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/tJPZnHTBHlLuiNx_ZJlnMnZqk1NemxjsP_p03SfB-FA/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly92aWxs/YWdldG95ZnVuYXRp/Yy5jb20vd3AtY29u/dGVudC91cGxvYWRz/LzIwMjEvMTIvR1VF/U1RfYzc4YmM5NjEt/OTA1ZC00MWZlLThm/NjgtNTc0NDExZWIx/YTBkLndlYnA",
    "https://imgs.search.brave.com/gDjyRsIB69h9gJHOKMC6-lgeGllO6FhEHommfRF6zkU/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/a3VrYXJhZ2FtZXMu/Y29tL2Nkbi9zaG9w/L3Byb2R1Y3RzL3Ro/cm93LXRocm93LWJ1/cnJpdG8tanVlZ28t/ZGUtaGFiaWxpZGFk/LXktY2FydGFzLTcx/NjA0NC5qcGc_dj0x/NzA3MDAxOTYwJndp/ZHRoPTUwMA",
    "https://imgs.search.brave.com/MGnHfCHBVbHKVSbQi3MB4ZNTVoWE8A9tvbXxYUNGJ7E/rs:fit:500:0:1:0/g:ce/aHR0cHM6Ly9tZWRp/YS5naW9kaWNhcnQu/Y2xvdWQvcC9zL1g0/Mzg3NF82LndlYnA"]
  },

  "beatthat": {
    title: "Beat That!",
    category: "Category 3",
    players: "2‚Äì8 players",
    playtime: "20‚Äì40 min",
    description: "Party challenge game with measuring & dexterity tasks.",
    includes: [
      "1x Measuring Tape",
      "2x Chopsticks",
      "1x Hourglass",
      "10x Cups",
      "5x Balls",
      "4x Orange Dice",
      "39x Blue Tokens",
      "15x Yellow Tokens",
      "25x Orange Tokens",
      "1x Sealed Notepad",
      "160x Challenges",
      "1x Instruction Manual",
      "1x Box (slightly worn out)"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/-SXPhfYpa2BzsGgkxF5wqrqjzrNeyohJ_pAH3_wcQgo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9tLm1l/ZGlhLWFtYXpvbi5j/b20vaW1hZ2VzL0kv/ODEydWgtR1N5M0wu/anBn", 
    "https://imgs.search.brave.com/kTKaHE4Z-_vg8i7cgXaaW_0DKsNhK-aDGfWByviHXsc/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9lbW1h/cmVlZC5uZXQvd3At/Y29udGVudC91cGxv/YWRzLzIwMTkvMDkv/QmVhdC1UaGF0LTct/OTYweDc2Mi5qcGc",
    "https://imgs.search.brave.com/DPdI1dXzD1ue8ABgjUpgu0ibzwII5UZWoIl-Eau0H84/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9zaG9w/YmVmaWthci5jb20v/d3AtY29udGVudC91/cGxvYWRzLzIwMjQv/MDgvYmVhdC10aGF0/LXBhcnR5LWdhbWUz/LmpwZw"]
  },

  "poetryforneanderthals": {
    title: "Poetry for Neanderthals",
    category: "Category 1",
    players: "2‚Äì6 players",
    playtime: "15‚Äì30 min",
    description: "Make your teammate guess a word using only one-syllable clues.",
    includes: [
      "1x Box",
      "400x Cards",
      "1x Inflatable Club",
      "1x Mini Balloon Pump",
      "Print-and-play version"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/KkFjNIvUN1_iNaRmBGuxZNuiYy_BrizIVxASPp5xw5U/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9jZG4u/c2hvcGxpZ2h0c3Bl/ZWQuY29tL3Nob3Bz/LzYwNTg3OS9maWxl/cy80OTMzNDMyNy8x/MDI0eDEwMjR4Mi9l/eHBsb2Rpbmcta2l0/dGVucy1wb2V0cnkt/Zm9yLW5lYW5kZXJ0/aGFscy5qcGc",
    "https://imgs.search.brave.com/4oI7x68GWrQwbtenAcjAF_5zM-p2uQV1lNUxlwu3iAU/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9pLmVi/YXlpbWcuY29tL2lt/YWdlcy9nL2toRUFB/T1N3TDlabTIwUjgv/cy1sNTAwLmpwZw"
    ]
  },

  "soundsfishy": {
    title: "Sounds Fishy",
    category: "Category 1",
    players: "2‚Äì8 players",
    playtime: "15‚Äì30 min",
    description: "Sound-based party/word game (print-and-play).",
    includes: [
      "1x Box",
      "400x Cards",
      "Print-and-play version"
    ],
    copies: 1,
    donor: "High Council '25-'26",
    images: ["https://imgs.search.brave.com/GCYMJhA_lqdfPW3dAJi_MPG5jMX9gejzn0fq3ZwSbjE/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9tLm1l/ZGlhLWFtYXpvbi5j/b20vaW1hZ2VzL0kv/NjFiMVZ5ZjB5Skwu/anBn",
    "https://imgs.search.brave.com/risJpErgr2ufgKNvpcwHb7wclqKzSKxzikh_2jNMb1o/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/Y29nc3RveXNhbmRn/YW1lcy5pZS9jZG4v/c2hvcC9wcm9kdWN0/cy9GSUhTWS5qcGc_/dj0xNjgzNTMxNzE3/JndpZHRoPTE1MDA"
    ]
  }
};


   let statusData={};
async function loadStatus(){
  const cacheBuster = `&_=${new Date().getTime()}`;
  try {
    const res = await fetch(sheetURL + cacheBuster, {
      cache: 'no-store',
      headers: {
        'Cache-Control': 'no-cache',
        'Pragma': 'no-cache'
      }
    });
    
    if (!res.ok) {
      throw new Error(`HTTP error! status: ${res.status}`);
    }
    
    const txt = await res.text();
    const rows = parseCSV(txt);
    
    if (rows.length === 0) {
      console.warn("No data received from spreadsheet");
      renderAll();
      return;
    }
    
    const headers = rows.shift().map(h=>h.trim());
    console.log("üìã Sheet Headers:", headers);
    
    statusData={};
    
    rows.forEach(r=>{
      const obj={};
      headers.forEach((h,i)=>obj[h]=r[i]);
      const originalTitle = obj.Title || "";
      const t = normalizeTitle(originalTitle);
      const status = (obj.Status||"Available").toLowerCase();
      
      if(t) {
        statusData[t] = status;
        console.log(`üìù "${originalTitle}" ‚Üí "${t}" ‚Üí "${status}"`);
      }
    });
    
    console.log("‚úÖ Final statusData:", statusData);
    renderAll();
  } catch (error) {
    console.error("‚ùå Error loading status data:", error);
    renderAll();
  }
}

function renderAll(){
  document.querySelectorAll('.game-grid').forEach(g => g.innerHTML = '');
  for (let k in games) {
    const g = games[k];
    const norm = normalizeTitle(g.title);
    const stat = statusData[norm] || "available";
    console.log(`üéÆ Rendering "${g.title}" ‚Üí normalized: "${norm}" ‚Üí status found: "${stat}"`);
    renderCard(g, stat);
  }
}
    

    function renderCard(g, stat) {
  const cat = g.category.toLowerCase().replace(/\s+/g, '-');
  const grid = document.getElementById("grid-" + cat);
  if (!grid) return;

  const d = document.createElement("div");
  d.className = "card";
  d.onclick = () => showDetails(g, stat);

  // choose first image if present; otherwise use an auto-generated placeholder
  const imgSrc = (g.images && g.images.length)
    ? g.images[0]
    : "https://via.placeholder.com/300x140?text=" + encodeURIComponent(g.title);

  const imgHTML = `<img src="${imgSrc}" alt="${g.title}" class="card-img">`;

  d.innerHTML = `
    ${imgHTML}
    <h4>${g.title}</h4>
    <p>${g.players}</p>
    <p>${g.playtime}</p>
    <p class="status ${stat}">${stat.toUpperCase()}</p>
  `;
  grid.appendChild(d);
}

    

    function showDetails(g,stat){
  document.getElementById("hero").style.display="none";
  document.getElementById("guidelinesSection").style.display="none";
  document.getElementById("howToBorrowSection").style.display="none"; // hide How To Borrow
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  const det=document.getElementById("detailsView");
  document.getElementById("detailsCategory").innerText=g.category;
  document.getElementById("detailsTitle").innerText=g.title;
  document.getElementById("detailsPlayers").innerText=g.players;
  document.getElementById("detailsPlaytime").innerText=g.playtime;
  const st=document.getElementById("detailsStatus");
  st.innerText=stat.toUpperCase();
  st.className="status "+stat;
  document.getElementById("detailsCopies").innerText=g.copies;
  document.getElementById("detailsDonor").innerText=g.donor;
  const incl=document.getElementById("detailsIncludes");
  incl.innerHTML=g.includes.map(i=>`<li>${i}</li>`).join("");
  document.getElementById("detailsDesc").innerText=g.description;
  const thumbs=document.getElementById("thumbs");
  thumbs.innerHTML="";
  let main=document.getElementById("mainImg");
  if(g.images.length){
    main.src=g.images[0];
    g.images.forEach((src,i)=>{
      const im=document.createElement("img");
      im.src=src; im.onclick=()=>{main.src=src};
      thumbs.appendChild(im);
    });
  }else{
    main.src="https://via.placeholder.com/300x300?text="+encodeURIComponent(g.title);
  }
  det.classList.add("active");
  det.setAttribute("aria-hidden","false");
}

function hideDetails(){
  document.getElementById("detailsView").classList.remove("active");
  document.getElementById("detailsView").setAttribute("aria-hidden","true");
  document.getElementById("hero").style.display="block";
  document.querySelectorAll(".section").forEach(s=>s.style.display="block");
}

function showGuidelines(){
  document.getElementById("hero").style.display="none";
  document.getElementById("guidelinesSection").style.display="block";
  document.getElementById("howToBorrowSection").style.display="none";
  document.getElementById("faqSection").style.display="none"; // hide FAQ
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.getElementById("detailsView").classList.remove("active");
}

function showHero(){

  document.getElementById("hero").style.display="block";
  document.getElementById("guidelinesSection").style.display="none";
  document.getElementById("howToBorrowSection").style.display="none";
  document.getElementById("faqSection").style.display="none"; // hide FAQ
  document.querySelectorAll(".section").forEach(s=>s.style.display="block");
  document.getElementById("detailsView").classList.remove("active");
}


function showHowToBorrow(){
  document.getElementById("hero").style.display="none";
  document.getElementById("guidelinesSection").style.display="none";
  document.getElementById("howToBorrowSection").style.display="block";
  document.getElementById("faqSection").style.display="none"; // hide FAQ
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.getElementById("detailsView").classList.remove("active");
}

function goToCollection(id){
  showHero();
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
}

function showFAQ(){
  document.getElementById("hero").style.display="none";
  document.getElementById("guidelinesSection").style.display="none";
  document.getElementById("howToBorrowSection").style.display="none";
  document.getElementById("faqSection").style.display="block";
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.getElementById("detailsView").classList.remove("active");
}

// Accordion behavior
document.addEventListener("click", function(e) {
  if (e.target.classList.contains("accordion")) {
    e.target.classList.toggle("active");
    const panel = e.target.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    }
  }
});



loadStatus();

// Set icon images for How to Borrow section
document.getElementById('eligibilityIcon').src="https://i.imgur.com/8Ojhue6.png";
document.getElementById('memberPerkIcon').src="https://i.imgur.com/t7soEjL.png";


  </script>
</body>
</html>

